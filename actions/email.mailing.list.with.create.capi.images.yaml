---
description: Sends an email to inform users that new CAPI Images have been released
enabled: true
entry_point: src/openstack_actions.py
name: email.mailing.list.with.create.capi.images
parameters:
  timeout:
    default: 5400
  lib_entry_point:
    default: workflows.send_mailing_list_capi_image_create_email.send_mailing_list_capi_image_create_email
    immutable: true
    type: string
  subject:
    type: string
    description: "Subject to add to each email"
    required: true
    default: "STFC Cloud CAPI Image Creation Notice"
  mailing_list:
    required: true
    type: string
    description: "Email address of the mailing list."
  image_name_list:
    type: array
    description: "Comma-spaced list of Openstack CAPI Images Names that have been created."
    required: True
  send_email:
    type: boolean
    description: "Set this flag to actually send emails instead of printing what will be sent"
    required: true
    default: false
  email_from:
    type: string
    description: "Email address to send email from"
    required: true
    default: "cloud-support@stfc.ac.uk"
    immutable: true
  smtp_account_name:
    type: string
    description: "Name of SMTP Account to use. Must be configured in the pack settings."
    required: true
    default: "default"
  as_html:
    type: boolean
    description: "Send email body as HTML"
    required: true
    default: true
runner_type: python-script
